<!DOCTYPE html>
<html class="scroll-smooth">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Subclipper Clip generator</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel="icon" type="image/svg+xml" href="/public/favicon.svg">
    <link rel="alternate icon" type="image/png" href="/public/favicon.png">
    <link rel='stylesheet' type='text/css' media='screen' href='/public/dist/main.css'>
    <script src="/public/dist/main.js" type="module"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
</head>
<body
    hx-boost="true"
    hx-ext="response-targets, sse"
    class="h-screen w-full flex flex-col"
>
    <header class="flex-none">
        <div class="navbar bg-base-100 shadow-sm flex flex-col md:flex-row !p-0">
            <div
                class="flex-1 flex flex-row gap-2 px-4 cursor-pointer"
                hx-get="/"
                hx-trigger="click"
                hx-target="main"
                hx-push-url="true"
                hx-ext="preserve-params"
                preserve-params="false"
            >
                <img src="/public/favicon.svg" />
                <h1 class="text-xl md:text-3xl p-2 text-center md:text-left">
                    Subclipper
                </h1>
            </div>
            <div
                id="search"
                class="w-full flex flex-1 flex-row justify-center p-2"
            >
                <label class="input">
                    {% include "search_icon.html" %}
                    <input
                        id="search"
                        class="grow"
                        name="filter"
                        type="search"
                        placeholder="Search for a subtitle..."
                        value="{{ request.args.get('filter') or '' }}"
                        hx-get="/"
                        hx-trigger="search, keyup delay:200ms changed"
                        hx-target="main"
                        hx-replace-url="true"
                        hx-ext="preserve-params"
                        preserve-params="path"
                        style="width: 100%;"
                    />
                </label>
            </div>
            <div class="flex-1 flex flex-row justify-around px-4">
                <div
                    class="flex-auto flex justify-center"
                    hx-get="/video_selection_dropdown"
                    hx-trigger="load, refetch-current-path from:body"
                    hx-ext="preserve-params"
                    preserve-params="path"
                >
                    
                </div>
                <div
                    class="flex-initial flex flex-row items-center"
                    hx-ext="sse"
                    sse-connect="/scanning_progress"
                    sse-swap="progress"
                >
                    <div class="loading"></div>
                </div>
            </div>
        </div>
    </header>
    <main
        class="flex-1 min-h-0 md:p-8"
        hx-ext="preserve-params"
        hx-get="/"
        hx-trigger="load"
        hx-include="[name='filter']"
    >
        <div class="skeleton w-full h-full bg-base-200"></div>
    </main>
    <div id="modal-container">
        {% with sub_data=sub_data, url=None, errs=errs %}
            {% include "tweak_modal.html" %}
        {% endwith %}
    </div>
    <footer class="flex-none w-full bg-base-200 text-base-content p-4 text-center md:text-left">
        The copyright of all media files presented here are reserved by their respective owners. Made using <a class="btn-link p-0" href="https://github.com/Niboor/subclipper">Subclipper</a>
    </footer>
    <div class="toast toast-start">
    </div>
</body>
</html>
