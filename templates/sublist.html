{% with videos=videos, size='large' %}
    {% include "video_selection_list.html" %}
{% endwith %}
<details class="md:hidden dropdown flex flex-row justify-center">
    <summary class="btn">{{ 'All videos' if request.args.get('video') is none else videos[request.args.get('video')|int].title }}</summary>
    {% with videos=videos, size='small' %}
        {% include "video_selection_list.html" %}
    {% endwith %}
</details>
<div class="overflow-auto">
    {% if subs|length == 0 %}
        <div class="h-full flex justify-center items-center">
            No results found
        </div>
    {% else %}
        <ul class="list bg-base-100 rounded-box shadow-md">
            {% for sub in subs %}
                <li
                    class="list-row hover:bg-base-200 cursor-pointer"
                    hx-get="/sub_form/{{ sub['video_id'] }}/{{ sub['id'] }}"
                    hx-push-url="true"
                    hx-target="main"
                >
                    <div class="flex flex-col items-start">
                        <div class="text-xs uppercase font-semibold opacity-60">{{ videos[sub.video_id].title }}</div>
                        <div>{{ sub.text }}</div>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
<div class="join flex flex-row justify-center min-h-12 overflow-x-auto">
    {% for page in pages %}
        <button
            class="join-item btn {{ 'btn-active' if request.args.get('page') == loop.index0|string or (request.args.get('page') is none and loop.first) else '' }}"
            hx-get="/?page={{ loop.index0 }}"
            hx-target="main"
            hx-replace-url="true"
            hx-ext="preserve-params"
        >
            {{ loop.index }}
        </button>
    {% endfor %}
</div>
